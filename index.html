<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Muresten Shop</title>
  <!-- Favicon (du kan uploade en fil der hedder favicon.png til dit repo) -->
  <link rel="icon" type="image/png" href="favicon.png">
  <style>
    body {
      /* existing styles */
      font-family: Arial, sans-serif;
    }
    /* your existing styles... */
    /* You can add additional styles here if needed */
  </style>
</head>
<body>
  <!-- Logo and "Made by Snebber" -->
  <div style="text-align: center; margin-top: 20px;">
    <!-- Replace the src below with your actual logo URL -->
    <img src="https://via.placeholder.com/100x50.png?text=Logo" alt="Logo" style="width: 100px; height: auto; display: block; margin: 0 auto;">
    <small style="display: block; font-size: 12px; margin-top: 5px;">Made by Snebber</small>
  </div>

  <!-- Rest of your existing code starts here -->
  <h2>Åbn en ticket</h2>
  <div id="ticketModal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closeTicket()">&times;</span>
      <h2>Åbn en ticket</h2>
      <input type="text" id="email" placeholder="E-mail" />
      <input type="text" id="problem" placeholder="Problem" />
      <textarea id="solution" placeholder="Hvordan vi skal løse det"></textarea>
      <button onclick="sendTicket()">Send</button>
      <div id="loading" class="loading" style="display:none;">Sender ticket… ⏳</div>
    </div>
  </div>

  <!-- Rest of your existing code continues here -->
  <script>
    const paymentModal = document.getElementById('paymentModal');
    const ticketModal = document.getElementById('ticketModal');
    const openTicketBtn = document.getElementById('openTicketBtn');
    const loadingDiv = document.getElementById('loading');

    function openPayment(product) {
      paymentModal.style.display = 'flex';
    }

    function closePayment() {
      paymentModal.style.display = 'none';
    }

    function closeTicket() {
      ticketModal.style.display = 'none';
    }

    // Luk modal ved klik udenfor content
    window.onclick = function(event) {
      if (event.target == paymentModal) closePayment();
      if (event.target == ticketModal) closeTicket();
    };

    async function sendTicket() {
      const email = document.getElementById('email').value;
      const problem = document.getElementById('problem').value;
      const solution = document.getElementById('solution').value;

      if(!email || !problem) {
        alert("Udfyld venligst både e-mail og problem.");
        return;
      }

      loadingDiv.style.display = "block";

      const webhookUrl = "https://discord.com/api/webhooks/1407054592851710012/xH1RQ1yVrj5suWG7icT-hTTyi_BQO-cMxgxdegsl9Uxf8Pg3MCobD37_rWfM5eEg_RDS";

      const content = {
        username: "Ticket System",
        embeds: [
          {
            title: "Ny Ticket",
            color: 5814783,
            fields: [
              { name: "Email", value: email || "Ikke udfyldt" },
              { name: "Problem", value: problem || "Ikke udfyldt" },
              { name: "Forslag til løsning", value: solution || "Ikke udfyldt" }
            ],
            footer: { text: "Muresten Shop Ticket System" }
          }
        ]
      };

      try {
        const res = await fetch(webhookUrl, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(content)
        });
        loadingDiv.style.display = "none";
        if (res.ok) {
          alert("Din ticket er sendt til Discord ✅");
          closeTicket();
        } else {
          alert("Fejl ved afsendelse.");
        }
      } catch (err) {
        loadingDiv.style.display = "none";
        alert("Kunne ikke sende ticket.");
        console.error(err);
      }
    }
  </script>
</body>
</html>

